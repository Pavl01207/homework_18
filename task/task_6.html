<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<title>Task 6</title>
</head>
<body>
	<div id="container" class="container">
		<div class="price" id="price">
			<label for="number">Price Number</label>
			<input type="text" id="number">
			<div class="button__container">
				<button class="button" id="BtnTable">Get Table</button>
			</div>
		</div>
		<button class="button" id="BtnSum">Get Sum</button>
	</div>
	<script>
	/*Користувач задає кількість оцінок і натискає на кнопку «get table». 
	В результаті формується таблиця з input, куди користувач вводить оцінки. 
	Після цього натискає на кнопку “get sum” і знаходить середнє значення.*/
	/*function makeTable(){
		let priceNumber = parseInt(document.getElementById('number').value)
		const mainContainer = document.getElementById('container')
		let scoreContainer = document.createElement('div')
		mainContainer.append(scoreContainer)
		for(let i = 0; i < priceNumber; i++){
			let score = document.createElement('input')
			score.classList.add('input__line')
			scoreContainer.append(score)
		}
		let buttonSum = document.createElement('button')
		buttonSum.classList.add('btn__sum')
		buttonSum.innerText = 'Get Sum'
		scoreContainer.append(buttonSum)
		let inputArray = document.getElementsByClassName('input__line')
		let sum = 0
		for(const inp of inputArray){
			sum+=inp.value
		}
		return sum
	}
	window.onload = function(){
		document.getElementById('BtnTable').onclick = makeTable
		document.querySelector('.btn__sum').onclick = makeTable
	}
	*/
	class TableScore{
		makePriceNumber(){
			this.priceNumber = parseInt(document.getElementById('number').value)
			this.priceContainer = document.getElementById('price')
			this.scoreContainer = document.createElement('div')
			this.priceContainer.after(this.scoreContainer)
		for(let i = 0; i < this.priceNumber; i++){
			let score = document.createElement('input')
			score.classList.add('input__line')
			this.scoreContainer.append(score)
		}
	}
		getSum(){
			this.scoreArray = document.getElementsByClassName('input__line')
			let scoreSum = 0
			for(const inp of this.scoreArray){
				scoreSum+=parseInt(inp.value)
			}
			this.resultContainer = document.createElement('div')
			this.resultContainer.innerText = 'Sum ='
			this.resultSpan = document.createElement('span')
			this.resultContainer.append(this.resultSpan)
			this.buttonSum = document.getElementById('BtnSum')
			this.buttonSum.after(this.resultContainer)
			this.resultSpan.innerText = (scoreSum/this.scoreArray.length).toFixed(1)
		}
}
window.onload = function(){
	let scoreTable = new TableScore
	document.getElementById('BtnTable').onclick = scoreTable.makePriceNumber
	document.getElementById('BtnSum').onclick = scoreTable.getSum
}
	</script>
</body>
</html>